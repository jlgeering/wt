{"id":"wt-17d","title":"Add shell-init support for fish","description":"Implement first-class fish shell integration for wt shell-init.\n\nScope and tasks:\n- Extend wt shell-init to accept fish.\n- Add a fish init template in src/commands/shell_init.zig that preserves behavior expectations:\n  - intercept wt new\n  - run wt new --porcelain\n  - on success plus valid directory, change into the new worktree\n  - print a concise confirmation line\n  - pass through all other subcommands to the binary\n- Ensure stderr/stdout routing remains correct for porcelain behavior.\n- Add or expand unit tests for fish template output and key behavior markers.\n- Add or expand CLI argument validation tests to include fish as supported.\n- Update README shell integration section with fish setup instructions and guarded snippets that are safe when wt is not on PATH.\n- Update README supported-shells statement and troubleshooting notes.\n- Confirm wt shell-init fish output is usable in fish startup config (config.fish).\n- Run mise run test and fix regressions.\n\nAcceptance criteria:\n- wt shell-init fish succeeds.\n- Unsupported-shell error message includes fish in the supported set.\n- README documents fish setup and verification.\n- Tests cover fish support and pass.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T12:16:16.306169Z","created_by":"jlg","updated_at":"2026-02-23T12:16:16.306169Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-1ev","title":"Windows target build fails due POSIX termios usage","description":"Running \"mise exec -- zig build -Dtarget=x86_64-windows\" fails. In /Users/jlgeering/src/wt/src/commands/rm.zig (around lines 102-120) and /Users/jlgeering/src/wt/src/commands/init.zig (around lines 49-59), POSIX termios APIs (std.posix.tcgetattr, tcsetattr, std.c.V) are referenced unconditionally. On Windows targets this triggers compile errors (including libc dependency and invalid termios type), breaking the advertised Windows build path.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-22T14:13:08.783462Z","created_by":"jlgeering","updated_at":"2026-02-22T14:13:08.783462Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-2ch","title":"Add shell-init support for Nushell (nochel)","description":"Implement first-class Nushell shell integration for wt shell-init.\n\nScope and tasks:\n- Extend wt shell-init to accept Nushell (requested as nochel).\n- Add a Nushell init template in src/commands/shell_init.zig that preserves behavior expectations:\n  - intercept wt new\n  - run wt new --porcelain\n  - on success plus valid directory, change into the new worktree\n  - print a concise confirmation line\n  - pass through all other subcommands to the binary\n- Ensure stderr/stdout routing remains correct for porcelain behavior.\n- Add or expand unit tests for Nushell template output and key behavior markers.\n- Add or expand CLI argument validation tests to include Nushell as supported.\n- Update README shell integration section with Nushell setup instructions and guarded snippets where applicable.\n- Update README supported-shells statement and troubleshooting notes.\n- Confirm shell-init output is usable in Nushell startup config.\n- Run mise run test and fix regressions.\n\nOpen decision to resolve during implementation:\n- Confirm canonical CLI shell key name (nu vs nushell) and document it consistently.\n\nAcceptance criteria:\n- wt shell-init works for the chosen Nushell key.\n- Unsupported-shell error message includes Nushell support.\n- README documents Nushell setup and verification.\n- Tests cover Nushell support and pass.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T12:16:16.305416Z","created_by":"jlg","updated_at":"2026-02-23T12:16:16.305416Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-2ev","title":"wt init Ctrl-C single-key cancel path is ineffective","description":"/Users/jlgeering/src/wt/src/commands/init.zig includes Ctrl-C cancellation logic in decision parsing, but tryReadSingleKey does not disable ISIG in raw mode (around lines 49-56). On POSIX terminals, Ctrl-C is handled as SIGINT before user-space key handling, so the intended cancel flow does not execute. /Users/jlgeering/src/wt/src/commands/rm.zig sets ISIG=false; init.zig should mirror that behavior if Ctrl-C is intended as an in-flow cancel.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-22T14:13:08.916953Z","created_by":"jlgeering","updated_at":"2026-02-22T14:13:08.916953Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-2rr","title":"Windows target build fails due POSIX termios usage","description":" fails. In  (around lines 102-120) and  (around lines 49-59), POSIX termios APIs (, , ) are referenced unconditionally. On Windows targets this triggers compile errors (including libc dependency and invalid termios type), breaking the advertised Windows build path.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-22T14:12:56.162788Z","created_by":"jlgeering","updated_at":"2026-02-22T14:12:56.162788Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-4xl","title":"Investigate help wrapping in yazap","description":"Follow up on weird wrapping/large spacing in wt --help on smaller terminals. We deferred local custom help output; later evaluate whether yazap exposes configurable help column widths or if we should upstream a fix.","status":"open","priority":4,"issue_type":"task","created_at":"2026-02-23T15:23:17.532403Z","created_by":"jlg","updated_at":"2026-02-23T15:23:17.532403Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-8mi","title":"Investigate testing strategy for platform-specific code","description":"Investigate and document ways to test platform-specific code paths (macOS, Linux, Windows) for `wt`.\n\nExpected output:\n- Candidate matrix for local/CI coverage.\n- Strategies for cross-target compile checks vs runtime checks.\n- Practical options for validating OS-conditional behavior and interactive terminal logic.\n- Tradeoffs, limitations, and recommended path.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-22T14:19:08.866969Z","created_by":"jlgeering","updated_at":"2026-02-22T14:19:08.866969Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-92n","title":"Add ahead/behind to wt list output","description":"Enhance wt list to show upstream ahead/behind counts per branch. Add git helper(s) to compute counts and include them in list formatting for clean/dirty worktrees. Handle detached HEAD and missing upstreams gracefully.","status":"open","priority":2,"issue_type":"task","owner":"jlgeering@users.noreply.github.com","created_at":"2026-02-18T05:51:23Z","created_by":"Jean-Luc Geering","updated_at":"2026-02-18T05:51:23Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-gzx","title":"Dynamic picker widths for long branch names","description":"Adjust picker row layout to handle long branch names and avoid column misalignment. Implement dynamic or capped width sizing for branch/status columns so FZF and builtin views remain readable when branch names are long.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-23T15:57:46.375212Z","created_by":"jlg","updated_at":"2026-02-23T15:57:46.375212Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-lcy","title":"Investigate testing strategy for shell integrations","description":"Investigate and document ways to test `wt shell-init` integrations (zsh/bash) in automated and local workflows.\n\nExpected output:\n- Candidate approaches (unit-level, integration-level, shell-level harnesses).\n- How to validate behavior like `wt new --porcelain` capture, `cd` handoff, and stderr/stdout routing.\n- Tradeoffs, reliability risks, and recommended path.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-22T14:19:08.819340Z","created_by":"jlgeering","updated_at":"2026-02-22T14:19:08.819340Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-nk2","title":"Investigate testing strategy for shell integrations and platform-specific code","description":"Investigate and document practical approaches for:\n\n1. Testing shell integrations (`wt shell-init` wrappers) in automated and local workflows.\n2. Testing platform-specific code paths (macOS/Linux/Windows) with reliable CI and local verification strategies.\n\nExpected output:\n- Proposed test matrix and tool choices.\n- Tradeoffs/limitations for each approach.\n- Recommended next implementation steps.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-22T14:18:25.543147Z","created_by":"jlgeering","updated_at":"2026-02-22T14:19:08.911043Z","closed_at":"2026-02-22T14:19:08.911022Z","close_reason":"Split into focused tasks: wt-lcy and wt-8mi","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-vc3","title":"Expand integration coverage for list and rm safety behavior","description":"Add integration tests for list ahead/behind output and rm safety flows, including dirty worktree handling, unmerged commit detection, confirmation behavior, and --force bypass.","status":"open","priority":2,"issue_type":"task","owner":"jlgeering@users.noreply.github.com","created_at":"2026-02-18T05:51:24Z","created_by":"Jean-Luc Geering","updated_at":"2026-02-18T05:51:24Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"wt-vc3","depends_on_id":"wt-92n","type":"blocks","created_at":"2026-02-18T06:51:24Z","created_by":"Jean-Luc Geering","metadata":"{}","thread_id":""},{"issue_id":"wt-vc3","depends_on_id":"wt-w1c","type":"blocks","created_at":"2026-02-18T06:51:24Z","created_by":"Jean-Luc Geering","metadata":"{}","thread_id":""}]}
{"id":"wt-vhr","title":"wt new treats tags/refs as existing branches","description":"/Users/jlgeering/src/wt/src/commands/new.zig checks branch existence with \"git rev-parse --verify <name>\" (around line 49). This resolves tags and other refs, not just local branches. Repro: in a repo with tag \"demo\" and no branch \"demo\", \"wt new --porcelain demo\" creates a detached worktree instead of a branch-backed worktree. Branch checks should target refs/heads/<branch> explicitly.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-22T14:13:08.859348Z","created_by":"jlgeering","updated_at":"2026-02-22T14:13:08.859348Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"wt-w1c","title":"Strengthen wt rm safety checks and confirmation flow","description":"Enhance wt rm to detect unmerged commits before removal and require interactive confirmation for unsafe removals (dirty or unmerged) unless --force is provided.","status":"open","priority":1,"issue_type":"task","owner":"jlgeering@users.noreply.github.com","created_at":"2026-02-18T05:51:24Z","created_by":"Jean-Luc Geering","updated_at":"2026-02-18T05:51:24Z","source_repo":".","compaction_level":0,"original_size":0}
